<!--
 Copyright 2020 RtBrick Inc.
 
 Licensed under the Apache License, Version 2.0 (the "License"); you may not
 use this file except in compliance with the License.  You may obtain a copy
 of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
 License for the specific language governing permissions and limitations under
 the License.
-->
<ui-view-header>
	<ui-breadcrumbs>
		<ui-breadcrumb href="users.html">Users</ui-breadcrumb>
		<ui-breadcrumb>User {{user.user_name}}</ui-breadcrumb>
	</ui-breadcrumbs>
	<ui-title>User Settings</ui-title>
	<ui-subtitle>Manage settings for user {{user.user_name}}.</ui-subtitle>
</ui-view-header>
<ui-form rolesAllowed="Administrator">
	<ui-group>
		<ui-label>User Settings</ui-label>
		<ui-input name="User ID" bind="user.user_id" readonly disabled>
			<ui-label>User ID</ui-label>
			<ui-note>The user account ID</ui-note>
		</ui-input>
		<ui-input name="User Name" bind="user.user_name">
			<ui-label>User Name</ui-label>
			<ui-note>The user account name.</ui-note>
		</ui-input>
		<ui-input name="email" bind="user.email">
			<ui-label>Email</ui-label>
			<ui-note>The user's primary email address.</ui-note>
		</ui-input>
		<ui-input name="given_name" bind="user.given_name">
			<ui-label>Given Name</ui-label>
			<ui-note>The user's given name.</ui-note>
		</ui-input>
		<ui-input name="family_name" bind="user.family_name">
			<ui-label>Family Name</ui-label>
			<ui-note>The user's family name.</ui-note>
		</ui-input>
	</ui-group>
	<ui-group>
		<ui-label>Session Settings</ui-label>
		<ui-note>Override the default session timeout for this user. 
				 The default session timeout is one hour and can be adjusted through the <code>jwt.ttl</code> environment variable.</ui-note>
		<ui-input name="access_token_ttl" bind="user.access_token_ttl">
			<ui-label>Access Token Expiration Period</ui-label>
			<ui-note>Idle user session expiration period.</ui-note>
		</ui-input>	
		<ui-select name="access_token_ttl_unit" bind="user.access_token_ttl_unit" options="ttl_units">
			<ui-label>Unit</ui-label>
			<ui-note>Expiration period temporal unit.</ui-note>
		</ui-select>	 
	</ui-group>
	<ui-group>
		<ui-label>Roles</ui-label>
		<ui-note>Select the user's roles. A user without any role has read-only access.</ui-note>
		<!--  {{#roles}} -->
		<ui-checkbox name="role" bind="user.roles" value="{{name}}">
			<ui-label>{{name}}</ui-label>
			<ui-note>{{description}}</ui-note>
		</ui-checkbox>
		<!-- {{/roles}} -->
	</ui-group>
	<ui-actions>
		<ui-button name="save-settings" primary>Save settings</ui-button>
		<ui-button href="confirm-remove.html?user={{user.uuid}}" danger>Remove user</ui-button>
		<ui-button href="passwd.html?user={{user.uuid}}">Reset password</ui-button>
	</ui-actions>
</ui-form>
